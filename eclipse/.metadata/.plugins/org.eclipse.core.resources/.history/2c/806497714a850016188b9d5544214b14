package com.derf.btawc.client.gui.furnace;

import com.derf.btawc.Loader;
import com.derf.btawc.blocks.inventory.container.furnace.ContainerAlloyFurnace;
import com.derf.btawc.blocks.tileentity.furnace.TileEntityAlloyFurnace;
import com.derf.btawc.client.Color;
import com.derf.btawc.client.gui.GuiContainerBasic;
import com.derf.btawc.util.GuiRect;
import com.derf.btawc.util.Vec2;

import net.minecraft.entity.player.InventoryPlayer;
import net.minecraft.util.ResourceLocation;

public class GuiContainerAlloyFurnace extends GuiContainerBasic {
	private static final ResourceLocation alloyFurnaceGUI = new ResourceLocation(Loader.MODID + ":textures/gui/container/alloy_furnace_gui.png");
	private final InventoryPlayer player;
	private TileEntityAlloyFurnace entity;
	
	private Vec2 mouseCoords = new Vec2();
	private GuiRect recipeRect = new GuiRect(162, 4, 9, 9);
	private boolean toggleRecipe = false;
	
	public GuiContainerAlloyFurnace(InventoryPlayer player, TileEntityAlloyFurnace entity) {
		super(new ContainerAlloyFurnace(player, entity));
		this.player = player;
		this.entity = entity;
		this.xSize = 175;
		this.ySize = 175;
	}

	
	@Override
	protected void drawGuiContainerForegroundLayer(int p_146979_1_, int p_146979_2_) {
		String s = this.entity.hasCustomInventoryName()? this.entity.getInventoryName() : this.getLangString(this.entity.getInventoryName());
		this.renderString(s, this.xSize / 2 - this.stringWidth(s) / 2, 6, Color.BLACK);
		String s2 = this.getLangString("container.inventory");
		this.renderFormatedString("container.inventory", this.xSize - (this.stringWidth(s2) + 9), 79, Color.BLACK);
	}


	@Override
	protected void drawGuiContainerBackgroundLayer(float p_146976_1_, int p_146976_2_, int p_146976_3_) {
		this.renderBackgroundImage(alloyFurnaceGUI);
		int k = this.getK();
		int l = this.getL();
		
		if(this.entity.isBurning()) {
			int i1 = this.entity.getBurnTimeRemainingScaled(17);
			this.drawTexturedModalRect(k + 26, l + 53 + 14 - i1, 175, 14 - i1, 14, i1 + 1);
			i1 = this.entity.getCookProgressScaled(24);
			this.drawTexturedModalRect(k + 78, l + 24, 175, 15, i1 + 1, 15);
		}
	}


	@Override
	public void drawScreen(int x, int y, float p_73863_3_) {
		// TODO Auto-generated method stub
		super.drawScreen(x, y, p_73863_3_);
		int k = this.getK();
		int l = this.getL();
		
		mouseCoords.setX(x - k);
		mouseCoords.setY(l - y);
	}

	
}
